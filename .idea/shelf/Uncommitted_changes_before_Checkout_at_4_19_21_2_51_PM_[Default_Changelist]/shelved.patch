Index: app/src/main/java/com/example/khourymeet/fragments/SearchFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.khourymeet.fragments;\n\nimport android.content.Context;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.AutoCompleteTextView;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\nimport com.example.khourymeet.R;\nimport com.example.khourymeet.User;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n/**\n * A simple {@link Fragment} subclass.\n * Use the {@link SearchFragment#newInstance} factory method to\n * create an instance of this fragment.\n */\npublic class SearchFragment extends Fragment implements View.OnClickListener, NavigationFragment {\n\n    // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = \"param1\";\n    private static final String ARG_PARAM2 = \"param2\";\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n\n    private DatabaseReference databaseReference;\n    private SharedPreferences sharedPreferences;\n\n    private String currentUsername;\n    private final String defaultString = \"default\";\n\n    private Map<String, String> studentNameList;\n    private List<String> studentNameIntermediate;\n//    private String[] studentNameArr;\n\n    private Button searchButton;\n    private AutoCompleteTextView typeSearch;\n    private TextView studentName;\n    private Button profileButton;\n\n    public SearchFragment() {\n        // Required empty public constructor\n    }\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @return A new instance of fragment SearchFragment.\n     */\n    // TODO: Rename and change types and number of parameters\n    public static SearchFragment newInstance() {\n        SearchFragment fragment = new SearchFragment();\n        Bundle args = new Bundle();\n//        args.putString(ARG_PARAM1, param1);\n//        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n        // Referenced Android documentation to retrieve data from Shared Preferences\n        sharedPreferences = getActivity().getSharedPreferences(getString(R.string.preference_file_key), Context.MODE_PRIVATE);\n        currentUsername = sharedPreferences.getString(getString(R.string.username_preferences_key), defaultString);\n\n        databaseReference = FirebaseDatabase.getInstance().getReference();\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_search, container, false);\n    }\n\n    @Override\n    public void onActivityCreated(Bundle savedInstanceState) {\n        super.onActivityCreated(savedInstanceState);\n\n        // Get views\n        getViews();\n\n        // Create empty map for student usernames : student names\n        studentNameList = new HashMap<String, String>();\n        // Create empty list for student names\n        studentNameIntermediate = new ArrayList<>();\n\n        // Add student names to list and map\n        getListStudents();\n\n//        // Create array from list\n//        studentNameArr = studentNameIntermediate.toArray(studentNameArr);\n//\n//        ArrayAdapter adapter = new ArrayAdapter(getContext(), android.R.layout.simple_list_item_1, studentNameArr);\n//        typeSearch.setAdapter(adapter);\n//        typeSearch.setThreshold(1);\n\n        // TODO: add onclick for go to profile\n        searchButton.setOnClickListener(\n                new Button.OnClickListener() {\n                    public void onClick(View complete) {\n//                        String nameSearched = typeSearch.getText().toString();\n//                        String usernameSearched = getKeyUsername(nameSearched);\n                        // NOTE: this gets the first entry that matches the name and displays it\n                        // For the next iteration of this project, add more views and change this\n                        // to get a set of keys with the value\n                        if (usernameSearched != null) {\n                            studentName.setText(studentNameList.get(usernameSearched));\n                            studentName.setVisibility(View.VISIBLE);\n                            profileButton.setVisibility(View.VISIBLE);\n                            // Referenced Android documentation to write username locally\n                            SharedPreferences.Editor editor = sharedPreferences.edit();\n                            editor.putString(getString(R.string.other_username_preferences_key), usernameSearched);\n                            editor.apply();\n                        } else {\n                            studentName.setText(\"No results found.\");\n                            studentName.setVisibility(View.VISIBLE);\n                        }\n                    }\n                }\n        );\n\n\n    }\n\n    @Override\n    public void onClick(View view) {\n\n    }\n\n    @Override\n    public int getTitle() {\n        return R.string.search_students;\n    }\n\n    private void getViews() {\n        searchButton = getView().findViewById(R.id.search_button);\n        typeSearch = getView().findViewById(R.id.autocompleteSearchView);\n        studentName = getView().findViewById(R.id.search_friend_name);\n        studentName.setVisibility(View.GONE);\n        profileButton = getView().findViewById(R.id.friend_go_profile);\n        profileButton.setVisibility(View.GONE);\n    }\n\n    private void getListStudents() {\n        databaseReference.child(\"users\").addListenerForSingleValueEvent(new ValueEventListener() {\n            // Use snapshot to create User object\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for (DataSnapshot childSnapshot : snapshot.getChildren()) {\n                    User studentUser = childSnapshot.getValue(User.class);\n                    if (!studentUser.getUserName().equals(currentUsername)) {\n                        studentNameList.put(studentUser.getUserName(), studentUser.getName());\n                        studentNameIntermediate.add(studentUser.getName());\n                    }\n                }\n                // Create array from list\n                String[] studentNameArr = new String[studentNameIntermediate.size()];\n                studentNameArr = studentNameIntermediate.toArray(studentNameArr);\n\n                ArrayAdapter adapter = new ArrayAdapter(getContext(), android.R.layout.simple_list_item_1, studentNameArr);\n                typeSearch.setAdapter(adapter);\n                typeSearch.setThreshold(1);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n            }\n        });\n    }\n\n    // Citation: taken from https://www.baeldung.com/java-map-key-from-value\n    public String getKeyUsername(String val) {\n        String value = val.toUpperCase();\n        for (Map.Entry<String, String> entry : studentNameList.entrySet()) {\n            if (entry.getValue().toUpperCase().equals(value)) {\n                return entry.getKey();\n            }\n        }\n        return null;\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/khourymeet/fragments/SearchFragment.java	(revision e07a5e122e519d3be15e4bc44f3e0bfdd7a72b46)
+++ app/src/main/java/com/example/khourymeet/fragments/SearchFragment.java	(date 1618853780000)
@@ -132,18 +132,18 @@
                         // NOTE: this gets the first entry that matches the name and displays it
                         // For the next iteration of this project, add more views and change this
                         // to get a set of keys with the value
-                        if (usernameSearched != null) {
-                            studentName.setText(studentNameList.get(usernameSearched));
-                            studentName.setVisibility(View.VISIBLE);
-                            profileButton.setVisibility(View.VISIBLE);
-                            // Referenced Android documentation to write username locally
-                            SharedPreferences.Editor editor = sharedPreferences.edit();
-                            editor.putString(getString(R.string.other_username_preferences_key), usernameSearched);
-                            editor.apply();
-                        } else {
-                            studentName.setText("No results found.");
-                            studentName.setVisibility(View.VISIBLE);
-                        }
+//                        if (usernameSearched != null) {
+//                            studentName.setText(studentNameList.get(usernameSearched));
+//                            studentName.setVisibility(View.VISIBLE);
+//                            profileButton.setVisibility(View.VISIBLE);
+//                            // Referenced Android documentation to write username locally
+//                            SharedPreferences.Editor editor = sharedPreferences.edit();
+//                            editor.putString(getString(R.string.other_username_preferences_key), usernameSearched);
+//                            editor.apply();
+//                        } else {
+//                            studentName.setText("No results found.");
+//                            studentName.setVisibility(View.VISIBLE);
+//                        }
                     }
                 }
         );
